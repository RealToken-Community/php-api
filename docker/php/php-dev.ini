; ===============================================
; docker/php/php-dev.ini
; Configuration développement
; ===============================================

; Mémoire (généreuse en dev)
memory_limit = 512M

; Affichage des erreurs
display_errors = On
display_startup_errors = On
error_reporting = E_ALL
log_errors = On
error_log = /var/www/html/var/log/php_errors.log

; OPcache (avec validation pour hot-reload)
opcache.enable = 1
opcache.enable_cli = 1
opcache.memory_consumption = 128
opcache.max_accelerated_files = 10000
opcache.validate_timestamps = 1
opcache.revalidate_freq = 0
opcache.interned_strings_buffer = 8

; Xdebug (si installé)
xdebug.mode = debug,coverage
xdebug.start_with_request = yes
xdebug.client_host = host.docker.internal
xdebug.client_port = 9003
xdebug.idekey = PHPSTORM
xdebug.max_nesting_level = 512

; Upload (plus généreux en dev)
upload_max_filesize = 20M
post_max_size = 20M